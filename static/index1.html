<html>
  <head>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <style></style>
  </head>
  <body>
    <svg height="500" width="500"></svg>
    <input type="range" id="category" min="0" max="5" step="1" />
    <input type="range" id="neighborhood" min="0" max="5" step="1" />
    <input type="range" id="rating" min="0" max="5" step="1" />
    <input type="range" id="rating" min="0" max="5" step="1" />
    <div id="neigh-buttons"></div>
    <div id="cat-buttons"></div>
    <div id="neigh-buttons"></div>
  </body>
  <script>
    var neighborhoodlist = d3.map(data, (d) => d["neighborhood"]);
    var categorylist = d3.map(data, (d) => d["categories"]);
    var ratinglist = d3.map(data, (d) => d["rating"]);
    // buttons
    function createFilters() {
      // neighbors
      neighbor_div = d3.select("div#neigh-buttons");
      neighborhoodlist.forEach((d) => {
        neighbor_div
          .append("button")
          .text(d)
          .on("click", function () {
            diffButtonClicked(d, d3.select(this));
          });
      });
      category_div = d3.select("div#cat-buttons");
      button_div
        .append("button")
        .text("Clear")
        .on("click", function () {
          if (currFilter === "") {
            return;
          }
          currFilter = "";
          currFilterElt.style("background-color", "");
          currFilterElt.style("color", "");
          currFilterElt = null;

          filtered_data = filterDifficulty(currFilter, [...wordles]);
        });
    }
    // sliders
    d3.select("#category").on("input", function () {
      var new_category = d3.select(this).property("value");
      calculate(new_neighorhood, new_rating, new_category);
    });
    d3.select("#neighborhood").on("input", function () {
      var new_neighborhood = d3.select(this).property("value");
      calculate(new_neighorhood, new_rating, new_category);
    });
    d3.select("#rating").on("input", function () {
      var new_rating = d3.select(this).property("value");
      calculate(new_neighorhood, new_rating, new_category);
    });
    // neighborhood binary, rating convert,
    function calculate(neighborhood, rating, category) {
      neighborhood + rating * +category;
    }
  </script>
</html>
